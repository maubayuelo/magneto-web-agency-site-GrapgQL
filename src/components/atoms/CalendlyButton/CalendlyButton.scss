// Calendly Button Styles
// src/components/atoms/CalendlyButton/CalendlyButton.scss

.calendly-button {
  position: relative;
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba($black, 0.15);
  }
  
  &:active {
    transform: translateY(0);
  }
  
  &.btn-disabled {
    opacity: 0.6;
    cursor: not-allowed;
    
    &:hover {
      transform: none;
      box-shadow: none;
    }
  }
}

// Loading spinner for when Calendly is loading
.calendly-loading {
  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 16px;
    height: 16px;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: calendly-spin 1s linear infinite;
  }
  
  & > * {
    opacity: 0;
  }
}

@keyframes calendly-spin {
  0% {
    transform: translate(-50%, -50%) rotate(0deg);
  }
  100% {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

// Calendly modal customization (if needed)
.calendly-overlay {
  z-index: 10000;
}

.calendly-popup {
  z-index: 10001;
}

// Override Calendly's mobile styles
@media (max-width: 975px) {
  .calendly-overlay .calendly-popup {
    // Override Calendly's mobile positioning
    top: 45px !important;
  }
}

.calendly-overlay{
    background-color: $gray-90;
    background-color: rgba($black, .84) !important;
}

/* Embedded modal styles for the iframe fallback */
#calendly-embedded-overlay {
  position: fixed;
  inset: 0;
  background: rgba($black, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

#calendly-embedded-container {
  width: 90%;
  /* Make the embedded modal more compact on desktop to avoid excessive whitespace.
     Many Calendly embed UIs switch to a horizontal layout on large widths; limiting
     the max-width keeps the widget in a more compact vertical layout similar to
     the popup provided by Calendly's own initPopupWidget. */
  max-width: 760px;
  /* Use a fixed pixel height for desktop so the iframe can size appropriately. */
  height: 640px;
  background: $white;
  border-radius: 8px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 24px 48px rgba($black, 0.35);
}

#calendly-embedded-close {
  position: absolute;
  top: 8px;
  right: 8px;
  z-index: 10002;
  background: transparent;
  border: none;
  font-size: 20px;
  cursor: pointer;
}

@media (max-width: 600px) {
  #calendly-embedded-container {
    width: 100%;
    height: 100%;
    border-radius: 0;
  }
}

/* Ensure the iframe inside our embedded container fills the area and doesn't add
   inner whitespace. Give it a neutral background so any Calendly margins are less
   visually jarring. */
#calendly-embedded-container iframe {
  display: block;
  width: 100%;
  height: 100%;
  border: 0;
  background: #ffffff;
}